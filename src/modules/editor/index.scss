@import "../../colors.scss";
// @import "../preview/code.scss";

.cm-s-obsidian {
  font-family: var(--font-monospace);
  color: $text-paragraph;
  font-size: var(--font-editor-size);
  line-height: 1.5em;

  .CodeMirror-linenumber {
    color: rgba($indigo, 0.5);
    font-size: var(--font-editor-linenumbers-size);
  }

  .CodeMirror-gutter-elt {
    width: 25px !important;
  }

  .cm-formatting,
  .CodeMirror-foldmarker {
    color: $indigo !important;
  }

//   .cm-header {
//     color: $yellow;
//   }

  .cm-header-1,
  .cm-header-2,
  .cm-header-3,
  .cm-header-4,
  .cm-header-5,
  .cm-header-6 {
    line-height: 1.5em;
	border-bottom: 1px solid;
    padding-bottom: 0.3em;
  }

	.cm-header-1 {
		font-size: var(--font-h1-preview-size);
		color: $yellow-neon;
		border-bottom-color: rgba($yellow-neon,0.25);

	}

	.cm-header-2 {
		font-size: var(--font-h2-preview-size);
		color: $teal;
		border-bottom-color: rgba($teal,0.25);
	}

	.cm-header-3 {
		font-size: var(--font-h3-preview-size);
		color: $yellow;
		border-bottom-color: rgba($yellow,0.25);
	}

	.cm-header-4 {
		font-size: var(--font-h4-preview-size);
		color: $pink;
		border-bottom-color: rgba($pink,0.25);
	}

	.cm-header-5 {
		font-size: var(--font-h5-preview-size);
		color: $aqua;
		border-bottom-color: rgba($aqua,0.25);
	}

	.cm-header-6 {
		font-size: var(--font-h6-preview-size);
		color: $text-gray;
		border-bottom-color: rgba($text-gray,0.25);
	}

  .cm-formatting-link,
  .cm-link {
    color: $blue !important;
  }

  .cm-formatting-link-string,
  .cm-url {
    color: $orange !important;
  }

  span.cm-hmd-internal-link {
    color: $green !important;
  }

  .cm-em,
  .cm-strong {
    color: $light-red;
  }

  span.cm-inline-code {
    color: $cyan;
    font-size: inherit;
    // Patch for https://forum.obsidian.md/t/collapsed-code-block-in-list-causes-additional-padding-in-inline-code-elements-in-parent-block/7633
    padding: 0 !important;
  }

  pre.HyperMD-codeblock {
    line-height: 1.5em;
    font-size: var(--font-editor-size);
	    // background-color: $gray-2;
    // border: 1px solid $gray-1;
    font-family: var(--font-monospace) !important;
    padding: 0.2em 0.4em;
    // border-radius: 6px;
  }

  span.cm-hmd-codeblock,
  span.cm-hmd-indented-code,
  span.cm-math,
  pre.HyperMD-codeblock {
    // color: $text-dark;
	


    span.cm-keyword {
      color: $purple !important;
    }

    span.cm-def {
      color: $yellow !important;
    }

    span.cm-variable,
    span.cm-variable-2,
    span.cm-variable-3 {
      color: $sky-blue !important;
    }

    span.cm-operator {
      color: $cyan !important;
    }

    span.cm-number {
      color: $orange !important;
    }

    span.cm-string {
      color: $green !important;
    }

    span.cm-comment {
      color: $indigo !important;
    }
  }

  span.cm-quote {
    font-style: italic;
  }

  span.cm-comment {
    color: $gray-6 !important;
    font-style: italic;
  }

  .cm-hmd-frontmatter {
    &.cm-def {
      color: rgba($green, 0.8) !important;
    }

    &.cm-atom {
      color: $orange !important;
    }
  }
}

.cm-s-obsidian .hmd-fold-html-stub,
.cm-s-obsidian .hmd-fold-code-stub,
.cm-s-obsidian.CodeMirror .HyperMD-hover > .HyperMD-hover-content code,
.cm-s-obsidian .cm-formatting-hashtag,
.cm-s-obsidian .cm-inline-code,
.cm-s-obsidian .HyperMD-codeblock,
.cm-s-obsidian .HyperMD-hr,
.cm-s-obsidian .cm-hmd-frontmatter,
.cm-s-obsidian .cm-hmd-orgmode-markup,
.cm-s-obsidian .cm-formatting-code,
.cm-s-obsidian .cm-math,
.cm-s-obsidian span.hmd-fold-math-placeholder,
.cm-s-obsidian .CodeMirror-linewidget kbd,
.cm-s-obsidian .hmd-fold-html kbd {
  font-family: var(--font-monospace);
}

.cm-s-obsidian div.HyperMD-codeblock-begin-bg {
  border-top: none;
}

.cm-s-obsidian div.HyperMD-codeblock-bg {
  border-left: none;
  border-right: none;
}

.cm-s-obsidian div.HyperMD-codeblock-end-bg {
  border-bottom: none;
}
